---
interface Props {
	title: string;
	description?: string;
}

const { title, description = "Portfolio de Desarrollador MÃ³vil y Web" } = Astro.props;
---

<!doctype html>
<html lang="es">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content={description} />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&display=swap" rel="stylesheet" />

		<!-- Theme Script - Runs before page load to prevent flash -->
		<script is:inline>
			const theme = (() => {
				if (typeof localStorage !== 'undefined' && localStorage.getItem('theme')) {
					return localStorage.getItem('theme');
				}
				return 'dark';
			})();

			if (theme === 'light') {
				document.documentElement.classList.add('light');
			} else {
				document.documentElement.classList.remove('light');
			}

			window.localStorage.setItem('theme', theme);
		</script>
	</head>
	<body class="font-['JetBrains_Mono',monospace] transition-colors duration-300">
		<slot />
	</body>
</html>

<style is:global>
	@import '../styles/global.css';

	:root {
		/* Dark mode colors (default) */
		--bg-primary: #1a1a1a;
		--bg-secondary: #252525;
		--bg-tertiary: #0a0a0a;
		--border-primary: #2a2a2a;
		--border-secondary: #1a1a1a;
		--text-primary: #e0e0e0;
		--text-secondary: #888;
		--text-tertiary: #666;
	}

	:root.light {
		/* Light mode colors */
		--bg-primary: #f5f5f5;
		--bg-secondary: #ffffff;
		--bg-tertiary: #e8e8e8;
		--border-primary: #d0d0d0;
		--border-secondary: #e0e0e0;
		--text-primary: #1a1a1a;
		--text-secondary: #555;
		--text-tertiary: #888;
	}

	* {
		transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
	}

	body {
		background-color: var(--bg-primary);
		color: var(--text-primary);
	}
</style>
